(this.webpackJsonpsite=this.webpackJsonpsite||[]).push([[0],{13:function(e,t,n){e.exports=n(22)},18:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(9),i=n.n(s),r=(n(18),n(3)),l=n(4),c=n(2),h=n(6),u=n(5),d=n(10),g=n(7),m=n(24),f=[{label:"Spotify",value:"spotify",default:!0},{label:"Listen",value:"listen"}],p=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).onChange=function(){setTimeout((function(){a.props.onChange(JSON.stringify(a.state))}),100)},a.onRestoreDefaults=function(){alert("not supported yet")},a.onFieldChange=function(e){a.setState(Object(g.a)({},e.target.id,e.target.value)),a.onChange()},a.onSelectChange=function(e){var t=e.target.selectedIndex,n=e.target.children[t].value;console.log(n),a.setState(Object(g.a)({},e.target.id,n)),a.onChange()},a.onUndo=function(e){a.setState({contrast:10,brightness:20}),a.onChange()},a.onListen=function(e){a.setState({listenTrigger:!0}),a.onChange()},a.state={contrast:0,brightness:0,animation:0,useAnimation:!0,autobrightness:!0,fromServer:!1,segments:f,selected:0},a.onChange=a.onChange.bind(Object(c.a)(a)),a.onFieldChange=a.onFieldChange.bind(Object(c.a)(a)),a.onUndo=a.onUndo.bind(Object(c.a)(a)),a.onListen=a.onListen.bind(Object(c.a)(a)),a.onRestoreDefaults=a.onRestoreDefaults.bind(Object(c.a)(a)),a.ready=!1,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.lastDefaults=this.props.defaults,this.setState(this.props.defaults),console.log(this.state)}},{key:"componentDidUpdate",value:function(){!0===this.props.defaults.fromServer&&(this.props.defaults.fromServer=!1,this.ready=!0,this.setState(this.props.defaults))}},{key:"render",value:function(){return this.ready?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",height:"auto"}},o.a.createElement("div",{style:{width:"90vw"}},o.a.createElement("h2",null,"Settings"),o.a.createElement("h4",{style:b},"Mode"),o.a.createElement(m.b,{name:"mode",id:"mode",mb:3,value:this.state.mode,onChange:this.onSelectChange},o.a.createElement("option",{value:"spotify"},"Spotify"),o.a.createElement("option",{value:"listen"},"Listen")),o.a.createElement("h4",{style:b},"Brightness"),o.a.createElement(m.c,{id:"brightness",value:this.state.brightness,onChange:this.onFieldChange}),o.a.createElement("h4",{style:b},"Transition Length"),o.a.createElement(m.c,{id:"animation",min:5,value:this.state.animation,onChange:this.onFieldChange}),o.a.createElement("h4",{style:b},"Auto Brightness"),o.a.createElement(m.b,{name:"autobrightness",id:"autobrightness",mb:3,value:this.state.autobrightness,onChange:this.onSelectChange},o.a.createElement("option",{value:"true"},"On"),o.a.createElement("option",{value:"false"},"Off")),"listen"===this.state.mode?o.a.createElement(m.a,{onClick:this.onListen,style:{color:"white",backgroundColor:"black",width:"100%",marginBottom:"20px"}},"Listen Now"):o.a.createElement(o.a.Fragment,null),o.a.createElement(m.a,{onClick:this.onRestoreDefaults,style:{color:"gray",backgroundColor:"white",width:"100%",marginBottom:"20px"}},"Restore Defaults"))):o.a.createElement("div",{style:{display:"flex",justifyContent:"center",height:"auto"}},o.a.createElement("div",{style:{width:"90vw"}},o.a.createElement("h2",null,"Connecting...")))}}]),n}(o.a.Component),b={marginTop:"30px",marginBottom:"10px"};window.location.href.split("://")[1].split(":")[0];var v=new d.w3cwebsocket("ws://".concat("192.168.68.110",":8080")),y=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).sendMessage=a.sendMessage.bind(Object(c.a)(a)),a.state={defaults:{contrast:0,brightness:0,animation:0,fromServer:!1,listenTrigger:!1,mode:"spotify"}},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;v.onopen=function(){console.log("WebSocket Client Connected")},v.onmessage=function(t){try{e.setState({defaults:JSON.parse(t.data)})}catch(n){console.log("json read error")}return e.render(),e.state.defaults}}},{key:"sendMessage",value:function(e){v.send(e)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{backgroundColor:"black",color:"white",height:"70px",textAlign:"left"}},o.a.createElement("h1",{style:{margin:"0px",paddingTop:"12px",paddingLeft:"12px"}},"Patrick's Frame")),o.a.createElement(p,{onChange:this.sendMessage,defaults:this.state.defaults}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.3086635f.chunk.js.map